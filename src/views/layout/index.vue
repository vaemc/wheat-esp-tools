
<template>
    <a-layout>
        <a-layout-sider style="height: 100vh;" collapsed-width="0" @collapse="onCollapse" @breakpoint="onBreakpoint">
            <a-menu :open-keys="openKeys" v-model:selectedKeys="selectedKeys" theme="dark" mode="inline">
                <a-sub-menu key="sub1">
                    <template #title>
                        <span>
                            ğŸ› ï¸å·¥å…·åˆ—è¡¨
                        </span>
                    </template>
                    <!-- ğŸ¶ ğŸ± ğŸ­ ğŸ¹ ğŸ° ğŸ¦Š ğŸ» -->
                    <a-menu-item key="basic" @click="$router.push('/tools/basic')">ğŸ¼åŸºæœ¬</a-menu-item>
                    <a-menu-item key="flash" @click="$router.push('/tools/flash')">ğŸ¶çƒ§å½•æˆ–åˆå¹¶å›ºä»¶</a-menu-item>
                    <a-menu-item key="partition" @click="$router.push('/tools/partition')">ğŸ±åˆ†åŒºè¡¨</a-menu-item>
                    <a-menu-item key="fs" @click="$router.push('/tools/fs')">ğŸ»æ–‡ä»¶ç³»ç»Ÿ</a-menu-item>
                    <a-menu-item key="firmware" @click="$router.push('/tools/firmware')">ğŸ°å›ºä»¶ç®¡ç†</a-menu-item>
                </a-sub-menu>
                <a-menu-item key="2">
                    <span class="nav-text">âš™ï¸è®¾ç½®</span>
                </a-menu-item>
                <a-menu-item key="3">
                    <span class="nav-text">ğŸ“™å¸®åŠ©</span>
                </a-menu-item>

            </a-menu>
        </a-layout-sider>
        <a-layout>
            <!-- <div style="margin: 10px;">
                <SerialPortSelect />
            </div> -->
            <a-layout-content :style="{ padding: '10px', minHeight: '280px' }">
                <router-view v-slot="{ Component }">
                    <keep-alive>
                        <component :is="Component" />
                    </keep-alive>
                </router-view>
            </a-layout-content>
            <Terminal />
        </a-layout>
    </a-layout>
</template>
<script setup lang="ts">
import Terminal from "@/components/Terminal.vue";
import SerialPortSelect from "@/components/SerialPortSelect.vue";
import { ref } from 'vue';
import { useRoute} from "vue-router";


const openKeys = ref(['sub1']);

const onCollapse = (collapsed: boolean, type: string) => {
    console.log(collapsed, type);
};

const onBreakpoint = (broken: boolean) => {
    console.log(broken);
};

const selectedKeys = ref([useRoute().name]);


</script>
  
  
  